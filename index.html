<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#f6f7f9" />
  <title>AS Andrade Serralheria & Caldeiraria ‚Äî Belo Horizonte</title>
  <meta name="description" content="Serralheria e caldeiraria sob medida em Belo Horizonte e regi√£o. Projetos residenciais e obras: port√µes, grades, escadas, coberturas e estruturas met√°licas. Or√ßamento r√°pido no WhatsApp." />

  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --card2: rgba(255,255,255,.82);
      --text:#18181b;
      --muted:#5b616a;
      --line: rgba(0,0,0,.10);
      --shadow: 0 18px 42px rgba(0,0,0,.10);
      --radius: 18px;

      --red:#ef4444;
      --red2:#d11b22;
      --metal:#e4e4e7;
      --metal2:#a1a1aa;
      --darkmetal:#52525b;

      --ok:#16a34a;
      --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: var(--bg);
      color: var(--text);
      overflow-x:hidden;
    }

    /* fundo com mockup claro (leve) */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        radial-gradient(1200px 700px at 10% -10%, rgba(239,68,68,.12), transparent 60%),
        radial-gradient(900px 600px at 110% 10%, rgba(0,0,0,.05), transparent 60%),
        url("mockup.png") center/cover no-repeat;
      opacity:.08;
      filter: saturate(.95) contrast(.96) brightness(1.06);
      pointer-events:none;
      z-index:-2;
    }

    .wrap{max-width:1120px;margin:0 auto;padding:0 16px 110px}
    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(246,247,249,.75);
      border-bottom:1px solid var(--line);
    }
    .topbar .inner{
      max-width:1120px;margin:0 auto;padding:14px 16px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }

    .brand{display:flex;align-items:center;gap:12px;min-width:0}
    .logo{
      width:44px;height:44px;border-radius:14px;overflow:hidden;
      border:1px solid var(--line);
      background: linear-gradient(135deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
      box-shadow: 0 12px 26px rgba(0,0,0,.10);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .logo img{width:100%;height:100%;object-fit:cover;display:none}
    .logo span{
      font-weight:1000;letter-spacing:.8px;
      background: linear-gradient(135deg,var(--red),var(--red2));
      -webkit-background-clip:text;background-clip:text;color:transparent;
      font-size:15px;
    }
    .brand h1{
      margin:0;font-size:14.5px;line-height:1.15;font-weight:1000;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .brand p{
      margin:2px 0 0;font-size:12px;color:var(--muted);
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }

    .actions{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.78);
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }

    .btn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.95);
      color:var(--text);
      padding:10px 12px;border-radius:14px;
      font-weight:1000;
      cursor:pointer;
      transition:.15s ease;
      display:inline-flex;align-items:center;gap:10px;
      box-shadow: 0 10px 20px rgba(0,0,0,.06);
      text-decoration:none;
    }
    .btn:hover{transform: translateY(-1px)}
    .btn.primary{
      background: linear-gradient(135deg, rgba(239,68,68,.98), rgba(209,27,34,.86));
      border-color: rgba(209,27,34,.35);
      color:#fff;
      box-shadow: 0 16px 34px rgba(209,27,34,.18);
    }
    .btn.ghost{background:transparent;box-shadow:none}

    /* HERO empresa grande */
    .hero{
      margin-top:16px;
      border-radius: 26px;
      border: 1px solid var(--line);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      background:
        radial-gradient(900px 500px at 10% 0%, rgba(239,68,68,.14), transparent 55%),
        radial-gradient(900px 500px at 90% 10%, rgba(0,0,0,.06), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.85), rgba(255,255,255,.55));
    }
    .heroMedia{
      position:absolute; inset:0;
      background: url("hero.jpg") center/cover no-repeat;
      filter: saturate(.9) contrast(.95) brightness(1.02);
      opacity:.22;
    }
    .heroOverlay{
      position:absolute; inset:0;
      background:
        linear-gradient(120deg, rgba(255,255,255,.96) 0%, rgba(255,255,255,.70) 45%, rgba(255,255,255,.25) 100%),
        linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,.02));
    }
    .heroInner{
      position:relative;
      padding:22px 18px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      align-items:stretch;
    }
    @media (max-width: 980px){
      .heroInner{grid-template-columns:1fr}
    }

    .heroTitle{
      margin:0;
      font-size:26px;
      line-height:1.08;
      letter-spacing:-.3px;
      font-weight:1100;
    }
    .heroSub{
      margin:10px 0 0;
      color:var(--muted);
      font-size:14px;
      line-height:1.45;
      max-width: 62ch;
    }

    .heroBadges{
      margin-top:14px;
      display:flex;flex-wrap:wrap;gap:10px;
    }
    .badgeMetal{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 12px;border-radius:999px;
      border:1px solid rgba(0,0,0,.10);
      background: linear-gradient(135deg, rgba(228,228,231,.85), rgba(255,255,255,.65));
      color:#27272a;
      font-size:12px;
      font-weight:900;
    }

    .heroCTAs{
      margin-top:14px;
      display:flex;gap:10px;flex-wrap:wrap;
      align-items:center;
    }
    .micro{
      margin-top:10px;
      font-size:12px;
      color:var(--muted);
      display:flex;gap:10px;flex-wrap:wrap;
    }
    .micro b{color:#111827}

    .heroCard{
      background: rgba(255,255,255,.84);
      border:1px solid var(--line);
      border-radius: 18px;
      padding:14px;
      box-shadow: 0 16px 34px rgba(0,0,0,.08);
    }
    .heroCard h3{margin:0;font-size:14px;font-weight:1100;letter-spacing:.2px}
    .heroCard .line{
      margin-top:10px;
      display:flex;justify-content:space-between;gap:12px;
      font-size:13px;color:var(--muted);
      padding:8px 0;border-bottom:1px solid rgba(0,0,0,.06);
    }
    .heroCard .line:last-child{border-bottom:0}
    .heroCard .line strong{color:var(--text)}
    .alertSmall{
      margin-top:12px;
      padding:10px 12px;border-radius:16px;
      border:1px solid rgba(239,68,68,.20);
      background: rgba(239,68,68,.08);
      color: var(--text);
      font-size:13px;
      display:flex;gap:10px;align-items:flex-start;
    }
    .alertSmall b{color:var(--red2)}
    .alertSmall small{color:var(--muted)}

    /* SE√á√ïES */
    .section{margin-top:16px}
    .grid2{display:grid;grid-template-columns: 1.2fr .8fr;gap:16px}
    @media (max-width:980px){.grid2{grid-template-columns:1fr}}
    .card{
      background: rgba(255,255,255,.92);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .card h2{margin:0;font-size:15px;font-weight:1100}
    .subline{
      margin:8px 0 0;
      color:var(--muted);
      font-size:12.5px;
      line-height:1.4;
    }
    .divider{height:1px;background:rgba(0,0,0,.08);margin:12px 0}

    /* TABS */
    .tabs{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .tab{
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.78);
      color:var(--muted);
      font-weight:1000;font-size:13px;
      cursor:pointer;
      user-select:none;
    }
    .tab.active{color:var(--text);border-color: rgba(209,27,34,.35);background: rgba(209,27,34,.10)}

    /* SERVI√áOS */
    .list{display:grid;gap:12px;margin-top:12px}
    .service{
      display:grid;
      grid-template-columns: 86px 1fr auto;
      gap:12px;
      align-items:center;
      padding:12px;
      border-radius:16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.82);
    }
    @media (max-width:520px){
      .service{grid-template-columns:78px 1fr;grid-template-areas:"img info" "ctrl ctrl";}
      .service .thumb{grid-area:img}
      .service .info{grid-area:info}
      .service .right{grid-area:ctrl;justify-items:stretch}
    }
    .thumb{
      width:86px;height:86px;border-radius:16px;overflow:hidden;
      border:1px solid rgba(0,0,0,.10);
      background: rgba(0,0,0,.04);
      display:grid;place-items:center;
    }
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .thumb .ph{font-size:22px;opacity:.85}

    .service h3{margin:0;font-size:15px;font-weight:1100}
    .service p{margin:6px 0 0;color:var(--muted);font-size:12.5px;line-height:1.35}
    .right{display:grid;gap:10px;justify-items:end}
    .tagRight{font-weight:1000;font-size:12.5px;text-align:right;color:#111827}

    /* CHECKLIST + FORM */
    .checkWrap{
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(255,255,255,.92);
      padding:10px;
      max-height: 240px;
      overflow:auto;
      display:grid;
      gap:8px;
    }
    .chk{
      display:flex; gap:10px; align-items:flex-start;
      padding:8px 10px;border-radius:12px;
      border:1px solid rgba(0,0,0,.07);
      background: rgba(255,255,255,.90);
      cursor:pointer;
    }
    .chk input{margin-top:2px;transform: scale(1.08)}
    .chk b{font-size:13px}
    .chk small{display:block;color:var(--muted);margin-top:2px;line-height:1.25}

    .form{display:grid;gap:10px;margin-top:12px}
    .field{display:grid;gap:6px}
    .field label{font-size:12px;color:var(--muted);font-weight:1000}
    .field input, .field textarea, .field select{
      border-radius:14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.96);
      color:var(--text);
      padding:10px 12px;
      outline:none;
      font-size:14px;
    }
    textarea{min-height:84px;resize:vertical}
    .two{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:560px){.two{grid-template-columns:1fr}}

    .hint{font-size:12px;color:var(--muted)}
    .errorBox{
      display:none;
      padding:10px 12px;border-radius:16px;
      border:1px solid rgba(239,68,68,.22);
      background: rgba(239,68,68,.08);
      color: var(--text);
      font-size:13px;
      gap:10px;
      align-items:flex-start;
    }
    .errorBox.show{display:flex}
    .errorBox b{color:var(--red2)}

    /* PORTF√ìLIO */
    .gallery{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width:820px){.gallery{grid-template-columns: repeat(2, 1fr)}}
    .gItem{
      border-radius:16px; overflow:hidden;
      border:1px solid var(--line);
      background: rgba(255,255,255,.86);
      cursor:pointer;
      position:relative;
      min-height:140px;
    }
    .gItem img{width:100%;height:100%;object-fit:cover;display:block;opacity:.98}
    .gCap{
      position:absolute;left:10px;right:10px;bottom:10px;
      padding:8px 10px;border-radius:14px;
      background: rgba(255,255,255,.86);
      border:1px solid rgba(0,0,0,.08);
      font-weight:1000;
      font-size:12px;
      color:#111827;
      display:flex;justify-content:space-between;gap:10px;align-items:center;
    }
    .gCap span{color:var(--muted);font-weight:900}

    /* MODAL */
    .modal{
      position:fixed; inset:0;
      display:none;
      align-items:center; justify-content:center;
      background: rgba(0,0,0,.55);
      z-index:100;
      padding:16px;
    }
    .modal.show{display:flex}
    .modalCard{
      width:min(980px, 100%);
      border-radius: 18px;
      background: rgba(255,255,255,.96);
      border:1px solid rgba(255,255,255,.22);
      box-shadow: 0 22px 60px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .modalTop{
      padding:12px 12px;
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      border-bottom:1px solid rgba(0,0,0,.08);
    }
    .modalTop b{font-weight:1100}
    .modalImg{width:100%;max-height:70vh;object-fit:cover;display:block}
    .modalActions{display:flex;gap:10px;flex-wrap:wrap}
    .xBtn{
      border:1px solid rgba(0,0,0,.12);
      background: rgba(255,255,255,.92);
      border-radius:12px;
      padding:10px 12px;
      font-weight:1100;
      cursor:pointer;
    }

    /* DEPOIMENTOS */
    .tGrid{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width:900px){.tGrid{grid-template-columns:1fr}}
    .tCard{
      border:1px solid var(--line);
      border-radius:16px;
      background: rgba(255,255,255,.90);
      padding:12px;
    }
    .stars{letter-spacing:1px;color:#f59e0b;font-weight:1100}
    .tCard p{margin:8px 0 0;color:#111827;line-height:1.45;font-size:13px}
    .tCard .who{margin-top:10px;color:var(--muted);font-size:12px;font-weight:900}

    /* FAQ */
    details{
      border:1px solid var(--line);
      border-radius:16px;
      background: rgba(255,255,255,.90);
      padding:12px 12px;
    }
    summary{cursor:pointer;font-weight:1100}
    details p{margin:10px 0 0;color:var(--muted);font-size:13px;line-height:1.5}

    /* Sticky CTA mobile + WhatsApp flutuante */
    .stickyCta{
      position:fixed;left:12px;right:12px;bottom:12px;
      z-index:60;
      display:none;
    }
    .stickyCta .bar{
      max-width:1120px;margin:0 auto;
      border-radius: 18px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.88);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 40px rgba(0,0,0,.12);
      display:flex;gap:10px;align-items:center;justify-content:space-between;
      padding:10px;
    }
    .stickyCta .left{display:grid;gap:2px;min-width:0}
    .stickyCta .left b{font-size:13px}
    .stickyCta .left span{font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:52vw}
    @media (max-width: 980px){.stickyCta{display:block;}}

    .waFloat{
      position:fixed;
      right:14px;
      bottom:88px;
      z-index:70;
      display:flex;
    }
    @media (max-width: 980px){.waFloat{bottom:148px}}
    .waFloat a{
      width:52px;height:52px;border-radius:18px;
      display:grid;place-items:center;
      background: linear-gradient(135deg, rgba(22,163,74,.98), rgba(22,163,74,.78));
      color:#fff;
      border:1px solid rgba(22,163,74,.40);
      box-shadow: 0 18px 36px rgba(22,163,74,.18);
      text-decoration:none;
      font-size:22px;
      font-weight:1100;
    }

    .footerBar{
      margin-top:16px;
      display:flex;gap:12px;flex-wrap:wrap;justify-content:space-between;
      color:var(--muted);font-size:12px;
    }
  </style>
</head>

<body>
  <!-- Topbar -->
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="logo" id="logoBox" title="AS Andrade Serralheria">
          <span id="logoText">AS</span>
          <img id="logoImg" alt="Logo AS" />
        </div>
        <div style="min-width:0">
          <h1>AS Andrade Serralheria & Caldeiraria</h1>
          <p id="topSub">Belo Horizonte - MG ‚Ä¢ Residencial + Obra</p>
        </div>
      </div>

      <div class="actions">
        <span class="pill">üìç BH e regi√£o</span>
        <a class="btn primary" href="#orcamento" id="ctaTop">Pedir or√ßamento</a>
      </div>
    </div>
  </div>

  <div class="wrap">
    <!-- HERO -->
    <section class="hero" aria-label="Apresenta√ß√£o">
      <div class="heroMedia"></div>
      <div class="heroOverlay"></div>

      <div class="heroInner">
        <div>
          <h2 class="heroTitle">Metal sob medida com acabamento profissional</h2>
          <p class="heroSub">
            Projetos para <b>resid√™ncias</b> e <b>obras</b>: port√µes, grades, escadas, coberturas e estruturas met√°licas.
            Voc√™ envia foto/medida ‚Üí a gente responde com <b>valor + prazo</b>.
          </p>

          <div class="heroBadges">
            <div class="badgeMetal">‚öôÔ∏è Sob medida</div>
            <div class="badgeMetal">üß± Residencial + Obra</div>
            <div class="badgeMetal">üß∞ Instala√ß√£o profissional</div>
            <div class="badgeMetal">üìç BH e regi√£o</div>
          </div>

          <div class="heroCTAs">
            <a class="btn primary" href="#orcamento" id="ctaHero">Pedir or√ßamento agora</a>
            <a class="btn" href="#portfolio">Ver portf√≥lio</a>
          </div>

          <!-- melhoria: √°rea atendida com bairros -->
          <div class="micro">
            <span>üìû <b>(31) 98391-3499</b></span>
            <span>üïí <b>Seg a S√°b:</b> 11:00 √†s 15:00</span>
            <span>üìç <b>Atendemos:</b> BH, Contagem, Betim, Nova Lima, Vespasiano</span>
          </div>
        </div>

        <div class="heroCard">
          <h3>Empresa estruturada</h3>
          <div class="line"><span>Atendimento</span> <strong>Residencial + Comercial</strong></div>
          <div class="line"><span>Entrega</span> <strong>Prazo + alinhamento</strong></div>
          <div class="line"><span>Execu√ß√£o</span> <strong>Solda + refor√ßo</strong></div>
          <div class="line"><span>Suporte</span> <strong>WhatsApp direto</strong></div>

          <div class="alertSmall">
            <div>‚ö†Ô∏è</div>
            <div>
              <b>Agenda semanal limitada</b><br>
              <small>Para instala√ß√£o e visitas. Pe√ßa or√ßamento com anteced√™ncia.</small>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PROVAS / CONFIAN√áA -->
    <section class="section grid2" aria-label="Confian√ßa e diferenciais">
      <div class="card">
        <h2>Por que escolher a AS</h2>
        <p class="subline">Posicionamento misto: forte pra obra, bonito pra casa.</p>
        <div class="divider"></div>
        <div class="list" style="margin-top:0">
          <div class="service" style="grid-template-columns: 1fr;">
            <div>
              <h3>Acabamento + refor√ßo</h3>
              <p>Metal com alinhamento, refor√ßo e est√©tica ‚Äî sem gambiarra e sem ‚Äúcara de serralheria fraca‚Äù.</p>
            </div>
          </div>
          <div class="service" style="grid-template-columns: 1fr;">
            <div>
              <h3>Resposta r√°pida no WhatsApp</h3>
              <p>Voc√™ manda foto/medida e recebe valor + prazo. Quanto mais detalhes, mais preciso fica.</p>
            </div>
          </div>
          <div class="service" style="grid-template-columns: 1fr;">
            <div>
              <h3>Residencial + obras</h3>
              <p>Atendemos desde port√µes e escadas at√© estruturas e coberturas para empresas e obras.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Prova social</h2>
        <p class="subline">Atendimento completo do or√ßamento √† instala√ß√£o.</p>
        <div class="divider"></div>
        <div class="list" style="margin-top:0">
          <div class="service">
            <div class="info" style="grid-column:1/-1">
              <h3>+100 projetos entregues</h3>
              <p>Experi√™ncia em residencial, comercial e estruturas.</p>
            </div>
          </div>
          <div class="service">
            <div class="info" style="grid-column:1/-1">
              <h3>BH e regi√£o</h3>
              <p>Atendimento e instala√ß√£o com alinhamento e acabamento.</p>
            </div>
          </div>
          <div class="service">
            <div class="info" style="grid-column:1/-1">
              <h3>Atendimento direto</h3>
              <p>Conversa com quem executa, sem enrola√ß√£o.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SERVI√áOS + OR√áAMENTO -->
    <section class="section grid2" aria-label="Servi√ßos e or√ßamento">
      <div class="card">
        <h2>Servi√ßos</h2>
        <p class="subline">Marque servi√ßos no formul√°rio e descreva o que precisa.</p>

        <div class="tabs" id="tabs"></div>
        <div class="list" id="services"></div>
      </div>

      <aside class="card" id="orcamento">
        <h2>Or√ßamento</h2>
        <p class="subline">O WhatsApp abre somente quando estiver preenchido.</p>

        <div class="errorBox" id="errorBox">
          <div>‚õî</div>
          <div>
            <b>Falta preencher:</b>
            <div id="errorList" class="hint" style="margin-top:6px"></div>
          </div>
        </div>

        <div class="form">
          <div class="field">
            <label>Selecione os servi√ßos (pode marcar mais de um)</label>
            <div class="checkWrap" id="serviceCheckList"></div>
            <div class="hint">Marque tudo que voc√™ quer no mesmo or√ßamento.</div>
          </div>

          <div class="two">
            <div class="field">
              <label>Seu nome *</label>
              <input id="name" placeholder="Ex: Paulo" autocomplete="name" />
            </div>
            <div class="field">
              <label>Telefone / WhatsApp *</label>
              <input id="phone" placeholder="(31) 9xxxx-xxxx" inputmode="tel" autocomplete="tel" />
            </div>
          </div>

          <div class="two">
            <div class="field">
              <label>Cidade / Bairro *</label>
              <input id="place" placeholder="Ex: BH - Barreiro" />
            </div>
            <div class="field">
              <label>Medidas (se tiver)</label>
              <input id="measures" placeholder="Ex: 2,40m x 1,80m" />
            </div>
          </div>

          <div class="two">
            <div class="field">
              <label>Prazo *</label>
              <select id="deadline">
                <option value="">Selecione‚Ä¶</option>
                <option value="Sem urg√™ncia">Sem urg√™ncia</option>
                <option value="At√© 7 dias">At√© 7 dias</option>
                <option value="At√© 15 dias">At√© 15 dias</option>
                <option value="Urgente (explicar)">Urgente (explicar)</option>
              </select>
            </div>
            <div class="field">
              <label>Tenho foto do projeto? *</label>
              <select id="hasPhoto">
                <option value="">Selecione‚Ä¶</option>
                <option value="Sim">Sim</option>
                <option value="N√£o">N√£o</option>
              </select>
            </div>
          </div>

          <div class="field">
            <label>Detalhes do servi√ßo *</label>
            <textarea id="details" placeholder="Explique: tipo, material, local, se √© instala√ß√£o, e o que voc√™ quer."></textarea>
          </div>

        <a href="https://wa.me/553183913499?text=Gostaria%20de%20pedir%20um%20or%C3%A7amento" target="_blank" class="btn-whatsapp">
    Solicitar or√ßamento
</a>

          <div class="footerBar">
            <span><b>WhatsApp:</b> (31) 98391-3499</span>
            <span><b>Atendimento:</b> BH e regi√£o</span>
          </div>

          <div class="divider"></div>
          <button class="btn ghost" id="clearSaved" type="button">Limpar dados salvos deste aparelho</button>
        </div>
      </aside>
    </section>

    <!-- PORTF√ìLIO -->
    <section class="section card" id="portfolio" aria-label="Portf√≥lio">
      <h2>Portf√≥lio</h2>
      <p class="subline">Alguns trabalhos realizados.</p>
      <div class="gallery" id="gallery"></div>
    </section>

    <!-- DEPOIMENTOS -->
    <section class="section card" aria-label="Depoimentos">
      <h2>Depoimentos</h2>
      <div class="tGrid">
        <div class="tCard">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúAcabamento excelente e alinhamento perfeito. Entregou no prazo.‚Äù</p>
          <div class="who">Antonio Pereira</div>
        </div>
        <div class="tCard">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúFez a estrutura e instala√ß√£o com profissionalismo. Recomendo.‚Äù</p>
          <div class="who">Adelaide ‚Ä¢ Regi√£o Nova Lima</div>
        </div>
        <div class="tCard">
          <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúPort√£o e grade ficaram top. Atendimento r√°pido no WhatsApp.‚Äù</p>
          <div class="who">Ernani ‚Ä¢ Vespasiano</div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="section card" aria-label="Perguntas frequentes">
      <h2>Perguntas frequentes</h2>
      <p class="subline">Respostas diretas.</p>
      <div class="list">
        <details>
          <summary>Como fa√ßo para o or√ßamento ficar mais preciso?</summary>
          <p>Envie foto do local, medidas e diga se precisa de instala√ß√£o. Se tiver refer√™ncia do que quer, melhor ainda.</p>
        </details>

        <details>
          <summary>Atende somente Belo Horizonte?</summary>
          <p>Atendemos BH e regi√£o. Dependendo do servi√ßo e dist√¢ncia, avaliamos log√≠stica e instala√ß√£o.</p>
        </details>

        <details>
          <summary>Voc√™s fazem servi√ßo sob medida?</summary>
          <p>Sim. Projetos sob medida para resid√™ncias e obras: port√µes, grades, escadas, coberturas e estruturas met√°licas.</p>
        </details>
      </div>

      <div class="divider"></div>
      <div class="footerBar">
        <span>¬© <span id="year"></span> AS Andrade Serralheria & Caldeiraria</span>
        <span>Or√ßamentos pelo WhatsApp</span>
      </div>
    </section>
  </div>

  <!-- WhatsApp flutuante (melhoria: leva pro formul√°rio, n√£o abre chat gen√©rico) -->
  <div class="waFloat" aria-label="Atalho WhatsApp">
    <a id="waQuick" href="#orcamento" title="Pedir or√ßamento">üí¨</a>
  </div>

  <!-- Sticky CTA mobile -->
  <div class="stickyCta" id="stickyCta">
    <div class="bar">
      <div class="left">
        <b>Pedir or√ßamento</b>
        <span id="stickySub">Marque os servi√ßos e preencha para enviar</span>
      </div>
      <a class="btn primary" href="#orcamento">Or√ßar</a>
    </div>
  </div>

  <!-- Modal do portf√≥lio -->
  <div class="modal" id="modal">
    <div class="modalCard">
      <div class="modalTop">
        <b id="modalTitle">Foto</b>
        <div class="modalActions">
          <button class="xBtn" id="useAsRef" type="button">Usar como refer√™ncia</button>
          <button class="xBtn" id="closeModal" type="button">Fechar</button>
        </div>
      </div>
      <img class="modalImg" id="modalImg" alt="Foto do portf√≥lio" />
    </div>
  </div>

  <script>
    const CONFIG = {
      company: "AS Andrade Serralheria & Caldeiraria",
      cityLine: "Belo Horizonte - MG",
      whatsappNumber: "https://wa.me/553183913499?text=MENSAGEM",
      logoFile: "logo-as.png",
      storageKey: "as_site_empresa_grande_v1"
    };

    /* Somente seus itens */
    const SERVICES = [
      { cat: "Port√µes", items: [
        { id:"p1", name:"Port√£o", desc:"Fabrica√ß√£o e instala√ß√£o sob medida.", thumb:"serv-portao.jpg" },
        { id:"p2", name:"Port√£o social", desc:"Entrada social com acabamento profissional.", thumb:"serv-social.jpg" },
      ]},
      { cat: "Grades", items: [
        { id:"g1", name:"Grade", desc:"Prote√ß√£o residencial e comercial.", thumb:"serv-grade.jpg" },
        { id:"g2", name:"Grade comercial", desc:"Seguran√ßa para lojas e empresas.", thumb:"serv-grade-comercial.jpg" },
      ]},
      { cat: "Estruturas", items: [
        { id:"e1", name:"Estrutura met√°lica", desc:"Obras m√©dias, refor√ßos e montagem.", thumb:"serv-estrutura.jpg" },
        { id:"e2", name:"Escada / guarda-corpo", desc:"Escadas met√°licas, corrim√£o e guarda-corpo.", thumb:"serv-escada.jpg" },
      ]},
      { cat: "Coberturas", items: [
        { id:"c1", name:"Cobertura", desc:"Estrutura met√°lica para cobertura.", thumb:"serv-cobertura.jpg" },
        { id:"c2", name:"Cobertura (varia√ß√£o)", desc:"Conforme necessidade e projeto.", thumb:"serv-cobertura2.jpg" },
      ]},
      { cat: "Sob medida", items: [
        { id:"s1", name:"Servi√ßo personalizado", desc:"Voc√™ manda refer√™ncia/foto e a gente executa.", thumb:"serv-personalizado.jpg" },
      ]},
    ];

    /* Portf√≥lio (mantive a mesma estrutura; suba suas fotos e pronto) */
    const PORTFOLIO = [
      { src:"obra-01as.jpg", title:"Port√£o premium (residencial)" },
      { src:"obra-02as.jpg", title:"Grade (residencial)" },
      { src:"obra-03as.jpg", title:"Escada / guarda-corpo" },
      { src:"obra-04.jpg", title:"Cobertura" },
      { src:"obra-05.jpg", title:"Estrutura met√°lica (obra)" },
      { src:"obra-06.jpg", title:"Grade comercial" },
      
        ];

    const el = (id)=>document.getElementById(id);
    const state = { cat: "Todos", modalIndex: null };

    function getAllCats(){ return ["Todos", ...SERVICES.map(s=>s.cat)]; }

    function escapeHtml(str){
      return String(str).replace(/[&<>"']/g, s => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[s]));
    }

    function tryLoadLogo(){
      const img = el("logoImg");
      img.src = CONFIG.logoFile + "?v=" + Date.now();
      img.onload = ()=>{
        img.style.display = "block";
        el("logoText").style.display = "none";
      };
    }

    function renderTabs(){
      const tabs = el("tabs");
      tabs.innerHTML = "";
      getAllCats().forEach(c=>{
        const b = document.createElement("div");
        b.className = "tab" + (state.cat===c ? " active" : "");
        b.textContent = c;
        b.onclick = ()=>{ state.cat=c; renderServices(); };
        tabs.appendChild(b);
      });
    }

    function filteredServices(){
      let sections = SERVICES;
      if(state.cat !== "Todos") sections = SERVICES.filter(s=>s.cat===state.cat);
      const out = [];
      sections.forEach(sec=> sec.items.forEach(it=> out.push({ ...it, cat: sec.cat })));
      return out;
    }

    function renderServices(){
      const container = el("services");
      container.innerHTML = "";
      const items = filteredServices();

      items.forEach(it=>{
        const row = document.createElement("div");
        row.className = "service";

        const thumb = document.createElement("div");
        thumb.className = "thumb";
        const img = document.createElement("img");
        img.src = it.thumb;
        img.alt = it.name;
        img.onerror = ()=>{ thumb.innerHTML = `<div class="ph">‚öôÔ∏è</div>`; };
        thumb.appendChild(img);

        const info = document.createElement("div");
        info.className = "info";
        info.innerHTML = `
          <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <h3>${escapeHtml(it.name)}</h3>
            <span class="pill" style="padding:6px 10px">${escapeHtml(it.cat)}</span>
          </div>
          <p>${escapeHtml(it.desc)}</p>
        `;

        const right = document.createElement("div");
        right.className = "right";

        const tag = document.createElement("div");
        tag.className = "tagRight";
        tag.innerHTML = `Resposta r√°pida<br><span style="color:var(--muted);font-weight:1000">WhatsApp</span>`;

        const btn = document.createElement("button");
        btn.className = "btn primary";
        btn.type = "button";
        btn.textContent = "Marcar";
        btn.onclick = ()=>{
          const value = it.cat + " ‚Äî " + it.name;
          const cb = Array.from(document.querySelectorAll("#serviceCheckList input")).find(x=>x.value===value);
          if(cb){
            cb.checked = true;
            persistFormDebounced();
            updateSticky();
            document.querySelector("#orcamento").scrollIntoView({behavior:"smooth", block:"start"});
          }
        };

        right.append(tag, btn);
        row.append(thumb, info, right);
        container.appendChild(row);
      });
    }

    function renderChecklist(){
      const box = el("serviceCheckList");
      box.innerHTML = "";
      SERVICES.forEach(sec=>{
        sec.items.forEach(it=>{
          const value = sec.cat + " ‚Äî " + it.name;
          const id = "chk_" + it.id;

          const label = document.createElement("label");
          label.className = "chk";
          label.setAttribute("for", id);

          label.innerHTML = `
            <input type="checkbox" id="${id}" value="${escapeHtml(value)}">
            <div>
              <b>${escapeHtml(value)}</b>
              <small>${escapeHtml(it.desc)}</small>
            </div>
          `;

          const input = label.querySelector("input");
          input.addEventListener("change", ()=>{ persistFormDebounced(); updateSticky(); });

          box.appendChild(label);
        });
      });
    }

    function getSelectedServices(){
      return Array.from(document.querySelectorAll("#serviceCheckList input:checked")).map(i=>i.value);
    }

    function renderGallery(){
      const g = el("gallery");
      g.innerHTML = "";

      PORTFOLIO.forEach((p, idx)=>{
        const item = document.createElement("div");
        item.className = "gItem";
        item.onclick = ()=> openModal(idx);

        const img = document.createElement("img");
        img.src = p.src;
        img.alt = p.title;
        img.onerror = ()=>{ img.style.display="none"; item.style.minHeight="120px"; item.style.display="grid"; item.style.placeItems="center"; item.textContent="Foto n√£o encontrada"; };

        const cap = document.createElement("div");
        cap.className = "gCap";
        cap.innerHTML = `<div>${escapeHtml(p.title)}</div><span>Ver</span>`;

        item.appendChild(img);
        item.appendChild(cap);
        g.appendChild(item);
      });
    }

    function openModal(idx){
      state.modalIndex = idx;
      const p = PORTFOLIO[idx];
      el("modalTitle").textContent = p.title;
      el("modalImg").src = p.src;
      el("modal").classList.add("show");
    }
    function closeModal(){ el("modal").classList.remove("show"); }

    function useAsReference(){
      const idx = state.modalIndex;
      if(idx === null) return;
      const p = PORTFOLIO[idx];
      const ta = el("details");
      const prefix = `Refer√™ncia: ${p.title}. `;
      ta.value = ta.value ? (prefix + ta.value) : prefix;
      persistFormDebounced();
      closeModal();
      document.querySelector("#orcamento").scrollIntoView({behavior:"smooth", block:"start"});
    }

    /* WhatsApp */
    function buildWhatsAppMessage(){
      const name = el("name").value.trim();
      const phone = el("phone").value.trim();
      const place = el("place").value.trim();
      const measures = el("measures").value.trim();
      const deadline = el("deadline").value;
      const hasPhoto = el("hasPhoto").value;
      const details = el("details").value.trim();
      const selected = getSelectedServices();

      const servicesBlock = selected.map(s=>"‚Ä¢ " + s).join("\n");

      return `*OR√áAMENTO - ${CONFIG.company}*
*Nome:* ${name}
*Telefone:* ${phone}
*Local:* ${place}
*Medidas:* ${measures || "(n√£o informado)"}
*Prazo:* ${deadline}
*Tenho foto do projeto?* ${hasPhoto}

*Servi√ßos:*
${servicesBlock}

*Detalhes:* ${details}`;
    }

    function validateForm(){
      const missing = [];
      if(getSelectedServices().length === 0) missing.push("Selecione pelo menos 1 servi√ßo");
      if(!el("name").value.trim()) missing.push("Nome");
      if(!el("phone").value.trim()) missing.push("Telefone/WhatsApp");
      if(!el("place").value.trim()) missing.push("Cidade/Bairro");
      if(!el("deadline").value) missing.push("Prazo");
      if(!el("hasPhoto").value) missing.push("Tenho foto do projeto?");
      if(!el("details").value.trim()) missing.push("Detalhes do servi√ßo");
      return missing;
    }

    function showErrors(list){
      const box = el("errorBox");
      const ul = el("errorList");
      if(list.length === 0){
        box.classList.remove("show");
        ul.innerHTML = "";
        return;
      }
      box.classList.add("show");
      ul.innerHTML = list.map(x=>`‚Ä¢ ${escapeHtml(x)}`).join("<br>");
      document.querySelector("#orcamento").scrollIntoView({behavior:"smooth", block:"start"});
    }

    function sendWhatsApp(){
      const missing = validateForm();
      if(missing.length){
        showErrors(missing);
        return;
      }
      showErrors([]);
      const msg = buildWhatsAppMessage();
      const url = `https://wa.me/${CONFIG.whatsappNumber}?text=${encodeURIComponent(msg)}`;
      window.open(url, "_blank");
    }

    /* localStorage (salvar sem travar: debounce) */
    let saveTimer = null;
    function persistForm(){
      const data = {
        name: el("name").value,
        phone: el("phone").value,
        place: el("place").value,
        measures: el("measures").value,
        deadline: el("deadline").value,
        hasPhoto: el("hasPhoto").value,
        details: el("details").value,
        checked: getSelectedServices()
      };
      localStorage.setItem(CONFIG.storageKey, JSON.stringify(data));
    }
    function persistFormDebounced(){
      clearTimeout(saveTimer);
      saveTimer = setTimeout(persistForm, 350);
    }

    function restoreForm(){
      try{
        const raw = localStorage.getItem(CONFIG.storageKey);
        if(!raw) return;
        const data = JSON.parse(raw);

        el("name").value = data.name || "";
        el("phone").value = data.phone || "";
        el("place").value = data.place || "";
        el("measures").value = data.measures || "";
        el("deadline").value = data.deadline || "";
        el("hasPhoto").value = data.hasPhoto || "";
        el("details").value = data.details || "";

        const checked = new Set(data.checked || []);
        document.querySelectorAll("#serviceCheckList input").forEach(i=>{
          i.checked = checked.has(i.value);
        });
      } catch {}
    }

    function clearSaved(){
      localStorage.removeItem(CONFIG.storageKey);
      el("name").value = "";
      el("phone").value = "";
      el("place").value = "";
      el("measures").value = "";
      el("deadline").value = "";
      el("hasPhoto").value = "";
      el("details").value = "";
      document.querySelectorAll("#serviceCheckList input").forEach(i=> i.checked=false);
      showErrors([]);
      updateSticky();
    }

    function updateSticky(){
      const count = getSelectedServices().length;
      el("stickySub").textContent = count === 0
        ? "Marque os servi√ßos e preencha para enviar"
        : `${count} servi√ßo(s) selecionado(s) ‚Äî preencha e envie`;
    }

    function wireAutosave(){
      const ids = ["name","phone","place","measures","deadline","hasPhoto","details"];
      ids.forEach(id=>{
        const node = el(id);
        node.addEventListener("input", persistFormDebounced);
        node.addEventListener("change", persistFormDebounced);
      });
    }

    function init(){
      el("year").textContent = String(new Date().getFullYear());

      tryLoadLogo();
      renderTabs();
      renderServices();
      renderChecklist();
      renderGallery();

      restoreForm();
      updateSticky();
      wireAutosave();

      /* eventos */
      el("sendBtn").addEventListener("click", sendWhatsApp);
      el("clearSaved").addEventListener("click", clearSaved);

      el("closeModal").addEventListener("click", closeModal);
      el("useAsRef").addEventListener("click", useAsReference);
      el("modal").addEventListener("click", (e)=>{ if(e.target.id==="modal") closeModal(); });

      document.addEventListener("keydown", (e)=>{ if(e.key==="Escape") closeModal(); });

      document.querySelectorAll("#serviceCheckList input").forEach(i=>{
        i.addEventListener("change", updateSticky);
      });
    }

    init();
  </script>
</body>
</html>
